# Enable mod_rewrite
RewriteEngine On

# Don't rewrite real files or directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Redirect index.php or /index to /
RewriteCond %{THE_REQUEST} \s/(index(\.php)?) [NC]
RewriteRule ^index(\.php)?$ / [R=301,L]

# Redirect *.php URLs to clean version (e.g., all-products.php â†’ all-products)
RewriteCond %{THE_REQUEST} \s/([^\s]+?)\.php[?\s] [NC]
RewriteRule ^(.*)\.php$ /$1 [R=301,L,QSA]

# Internally map clean URLs to actual .php files
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)/?$ $1.php [L]
